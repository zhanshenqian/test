<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
	<script>
		
	/*
		
	ajax: 使用要遵循同源策略,否则会有跨域问题

		使用1.0版本的XMLHttpRequest对象进行ajax请求,不允许跨域

		使用2.0版本的XMLHttpRequest对象进行ajax请求,允许跨域,但是需要在服务器端设置允许跨域请求

			需要服务器端设置:header('Access-Control-Allow-Origin:*');  //设置哪一些ip地址,允许向当前服务器发送跨域请求
				参数:
					ip地址   指定ip地址
					*		允许所有ip地址  

	同源策略:
		域名  端口  协议  都要保持一致
	
	*/


		var xhr = null;

		//创建ajax的兼容写法
		if(window.ActiveXObject){
			//ie浏览器创建ajax对象
			xhr = new ActiveXObject('Microsoft.XMLHTTP');
		}else{
			//标准浏览器中创建ajax对象:
			xhr = new XMLHttpRequest();
		}

		//监控请求状态
		xhr.onreadystatechange = function(){

			//当请求成功返回数据时(请求走到第几步)
			if(xhr.readyState == 4){
				//检测请求成功还是失败(请求完成之后是拿到数据还是没有拿到数据)
				if(xhr.status == 200){

					var data = JSON.parse(xhr.responseText);
					// console.log(xhr.responseText);
					console.log(data);
				}
			}

		}

		//准备好数据,建立服务器连接
		xhr.open('get','http://1.yqg160302.applinzi.com');  //登录新浪 后端程序在新浪云应用SAE里

		//发送请求
		xhr.send(null);

	</script>


</body>

	
</html>